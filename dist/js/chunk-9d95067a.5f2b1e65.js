(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9d95067a"],{"05bd":function(t,e,i){},"0cff":function(t,e,i){},1146:function(t,e,i){},"12ae":function(t,e,i){t.exports=i.p+"img/loading.f676fc52.gif"},"4f08":function(t,e,i){t.exports=i.p+"img/icon_kefu.2a9f06af.png"},5246:function(t,e,i){"use strict";i("68ef"),i("9d70"),i("3743"),i("8a0b")},5969:function(t,e,i){"use strict";var n=i("0cff"),a=i.n(n);a.a},"634a":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[t.proDetailData.type?n("div",[n("van-nav-bar",{attrs:{title:"确认订单",fixed:"","left-arrow":""},on:{"click-left":t.onClickLeft}}),n("div",{staticClass:"order_box"},[n("div",{staticClass:"order_pro"},[n("div",{staticClass:"order_pro_top"},[n("img",{attrs:{src:t.proDetailData.pro_pic,alt:""}}),n("div",{staticClass:"order_pro_text"},[n("p",[t._v(t._s(t.proDetailData.pro_introduce))]),n("span",[t._v(t._s("￥"+t.proDetailData.pro_price))]),n("van-stepper",{staticClass:"stepper",attrs:{integer:""},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1)]),n("div",{staticClass:"order_pro_bottom"},[n("span",[t._v("小计 :")]),n("span",[t._v(t._s("￥"+t.proDetailData.pro_price*t.num))]),0===t.preferentialPrice?n("b"):n("b",[t._v(t._s("已优惠￥"+t.preferentialPrice))])])]),n("div",{staticClass:"order_tel"},[n("p",[n("span",[t._v("订单备注 :")]),n("input",{attrs:{type:"text",maxlength:"50",placeholder:"选填,请先和商家协商一致"},domProps:{value:t.order_remarks},on:{change:t.changeRemarks}})]),n("p",[n("span",[t._v("手机号 :")]),n("span",[t._v(t._s(t.username))])])]),n("p",{staticClass:"order_hint1"},[t._v("*未满18周岁的手术人需在监护人陪同下到院面诊")]),n("p",{staticClass:"order_hint2"},[t._v("*您本次购买的商品不需要收货地址，请仔细确认您的手机号")])]),n("div",{staticClass:"order_buy"},[n("div",[t.proDetailData?n("span",[t._v(t._s("￥"+t.proDetailData.pro_price*t.num))]):t._e(),n("span",{on:{click:function(e){return t.goOrder(t.proDetailData.proid)}}},[t._v("确认订单")])]),n("img",{attrs:{src:i("4f08"),alt:""}})])],1):n("Loading")],1)},a=[],r=(i("e7e5"),i("d399")),s=(i("68ef"),i("1146"),i("fb6c"),i("2638")),o=i.n(s),u=i("d282"),l=i("a142"),c=i("ea8e"),h=i("a8fa"),d=i("1325"),f=i("78eb"),p=i("b566"),m=Object(u["a"])("stepper"),g=m[0],v=m[1],b=600,_=200;function x(t,e){return String(t)===String(e)}function S(t,e){var i=Math.pow(10,10);return Math.round((t+e)*i)/i}var y=g({mixins:[f["a"]],props:{value:null,integer:Boolean,disabled:Boolean,inputWidth:[Number,String],buttonSize:[Number,String],asyncChange:Boolean,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,decimalLength:[Number,String],name:{type:[Number,String],default:""},min:{type:[Number,String],default:1},max:{type:[Number,String],default:1/0},step:{type:[Number,String],default:1},defaultValue:{type:[Number,String],default:1},showPlus:{type:Boolean,default:!0},showMinus:{type:Boolean,default:!0},longPress:{type:Boolean,default:!0}},data:function(){var t=Object(l["b"])(this.value)?this.value:this.defaultValue,e=this.format(t);return x(e,this.value)||this.$emit("input",e),{currentValue:e}},computed:{minusDisabled:function(){return this.disabled||this.disableMinus||this.currentValue<=this.min},plusDisabled:function(){return this.disabled||this.disablePlus||this.currentValue>=this.max},inputStyle:function(){var t={};return this.inputWidth&&(t.width=Object(c["a"])(this.inputWidth)),this.buttonSize&&(t.height=Object(c["a"])(this.buttonSize)),t},buttonStyle:function(){if(this.buttonSize){var t=Object(c["a"])(this.buttonSize);return{width:t,height:t}}}},watch:{max:"check",min:"check",integer:"check",decimalLength:"check",value:function(t){x(t,this.currentValue)||(this.currentValue=this.format(t))},currentValue:function(t){this.$emit("input",t),this.$emit("change",t,{name:this.name})}},methods:{check:function(){var t=this.format(this.currentValue);x(t,this.currentValue)||(this.currentValue=t)},formatNumber:function(t){return Object(p["a"])(String(t),!this.integer)},format:function(t){return t=this.formatNumber(t),t=""===t?0:+t,t=Math.max(Math.min(this.max,t),this.min),Object(l["b"])(this.decimalLength)&&(t=t.toFixed(this.decimalLength)),t},onInput:function(t){var e=t.target.value,i=this.formatNumber(e);if(Object(l["b"])(this.decimalLength)&&-1!==i.indexOf(".")){var n=i.split(".");i=n[0]+"."+n[1].slice(0,this.decimalLength)}x(e,i)||(t.target.value=i),this.emitChange(i)},emitChange:function(t){this.asyncChange?(this.$emit("input",t),this.$emit("change",t,{name:this.name})):this.currentValue=t},onChange:function(){var t=this.type;if(this[t+"Disabled"])this.$emit("overlimit",t);else{var e="minus"===t?-this.step:+this.step,i=this.format(S(+this.currentValue,e));this.emitChange(i),this.$emit(t)}},onFocus:function(t){this.$emit("focus",t),this.disableInput&&this.$refs.input&&this.$refs.input.blur()},onBlur:function(t){var e=this.format(t.target.value);t.target.value=e,this.currentValue=e,this.$emit("blur",t),Object(h["a"])()},longPressStep:function(){var t=this;this.longPressTimer=setTimeout((function(){t.onChange(),t.longPressStep(t.type)}),_)},onTouchStart:function(){var t=this;this.longPress&&(clearTimeout(this.longPressTimer),this.isLongPress=!1,this.longPressTimer=setTimeout((function(){t.isLongPress=!0,t.onChange(),t.longPressStep()}),b))},onTouchEnd:function(t){this.longPress&&(clearTimeout(this.longPressTimer),this.isLongPress&&Object(d["c"])(t))}},render:function(){var t=this,e=arguments[0],i=function(e){return{on:{click:function(){t.type=e,t.onChange()},touchstart:function(){t.type=e,t.onTouchStart()},touchend:t.onTouchEnd,touchcancel:t.onTouchEnd}}};return e("div",{class:v()},[e("button",o()([{directives:[{name:"show",value:this.showMinus}],attrs:{type:"button"},style:this.buttonStyle,class:v("minus",{disabled:this.minusDisabled})},i("minus")])),e("input",{ref:"input",attrs:{type:this.integer?"tel":"text",role:"spinbutton",disabled:this.disabled,readonly:this.disableInput,inputmode:this.integer?"numeric":"decimal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":this.currentValue},class:v("input"),domProps:{value:this.currentValue},style:this.inputStyle,on:{input:this.onInput,focus:this.onFocus,blur:this.onBlur}}),e("button",o()([{directives:[{name:"show",value:this.showPlus}],attrs:{type:"button"},style:this.buttonStyle,class:v("plus",{disabled:this.plusDisabled})},i("plus")]))])}}),k=(i("5246"),i("6b41")),D=i("c428"),C=i("365c"),P=i("2b0e");P["a"].use(k["a"]),P["a"].use(y),P["a"].use(r["a"]);var T={data:function(){return{proid:"",proDetailData:[],num:1,order_remarks:"",preferentialPrice:0,username:localStorage.getItem("userTel_AM"),loginState:localStorage.getItem("loginState_AM")}},components:{Loading:D["a"]},computed:{},mounted:function(){this.proid=this.$route.query.proid,this.preferentialPrice=this.$route.query.preferentialPrice,this.getProDetail(this.proid)},methods:{onClickLeft:function(){this.$router.go(-1)},getProDetail:function(t){var e=this;"0"===t.substring(1,2)?Object(C["t"])({proid:t,username:localStorage.getItem("userTel_AM")}).then((function(t){"200"===t.data.code&&(e.proDetailData=t.data.data[0])})):Object(C["D"])({proid:t}).then((function(t){e.proDetailData=t.data.data[0]}))},changeRemarks:function(t){this.order_remarks=t.target.value},goOrder:function(t){var e=this,i=localStorage.getItem("loginState_AM"),n=localStorage.getItem("userTel_AM"),a=localStorage.getItem("token_AM");n&&a&&"ok"===i?Object(C["H"])({username:localStorage.getItem("userTel_AM"),token:localStorage.getItem("token_AM"),proid:t,pro_num:this.num,pro_price:this.proDetailData.pro_price*this.num-this.preferentialPrice,pro_coupons:this.preferentialPrice,pro_remark:this.order_remarks,status:"0"}).then((function(t){"200"===t.data.code?(Object(r["a"])("订单添加成功"),setTimeout((function(){e.$router.push({path:"/payOrder",query:{order_id:t.data.data.order_id}})}),1e3)):"400"===t.data.code&&(Object(r["a"])("您的身份认证已过期，请重新登录"),setTimeout((function(){e.$router.push("/login")}),700))})):(Object(r["a"])("您还没有登录，快去登录吧"),setTimeout((function(){e.$router.push("/login")}),300))}}},O=T,$=(i("aecd"),i("2877")),w=Object($["a"])(O,n,a,!1,null,"2d5772f8",null);e["default"]=w.exports},"6b41":function(t,e,i){"use strict";var n=i("d282"),a=i("b1d2"),r=i("ad06"),s=Object(n["a"])("nav-bar"),o=s[0],u=s[1];e["a"]=o({props:{title:String,fixed:Boolean,zIndex:[Number,String],leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,border:{type:Boolean,default:!0}},data:function(){return{height:null}},mounted:function(){this.placeholder&&this.fixed&&(this.height=this.$refs.navBar.getBoundingClientRect().height)},methods:{genLeft:function(){var t=this.$createElement,e=this.slots("left");return e||[this.leftArrow&&t(r["a"],{class:u("arrow"),attrs:{name:"arrow-left"}}),this.leftText&&t("span",{class:u("text")},[this.leftText])]},genRight:function(){var t=this.$createElement,e=this.slots("right");return e||(this.rightText?t("span",{class:u("text")},[this.rightText]):void 0)},genNavBar:function(){var t,e=this.$createElement;return e("div",{ref:"navBar",style:{zIndex:this.zIndex},class:[u({fixed:this.fixed}),(t={},t[a["b"]]=this.border,t)]},[e("div",{class:u("left"),on:{click:this.onClickLeft}},[this.genLeft()]),e("div",{class:[u("title"),"van-ellipsis"]},[this.slots("title")||this.title]),e("div",{class:u("right"),on:{click:this.onClickRight}},[this.genRight()])])},onClickLeft:function(t){this.$emit("click-left",t)},onClickRight:function(t){this.$emit("click-right",t)}},render:function(){var t=arguments[0];return this.placeholder&&this.fixed?t("div",{class:u("placeholder"),style:{height:this.height+"px"}},[this.genNavBar()]):this.genNavBar()}})},"78eb":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n={inject:{vanField:{default:null}},watch:{value:function(){var t=this.vanField;t&&(t.resetValidation(),t.validateWithTrigger("onChange"))}},created:function(){var t=this.vanField;t&&!t.children&&(t.children=this)}}},"8a0b":function(t,e,i){},a8fa:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("a142");function a(){return!n["f"]&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase())}var r=i("a8c1"),s=a();function o(){s&&Object(r["g"])(Object(r["b"])())}},aecd:function(t,e,i){"use strict";var n=i("05bd"),a=i.n(n);a.a},b566:function(t,e,i){"use strict";function n(t,e){if(e){var i=t.indexOf(".");i>-1&&(t=t.slice(0,i+1)+t.slice(i).replace(/\./g,""))}else t=t.split(".")[0];var n=e?/[^0-9.]/g:/\D/g;return t.replace(n,"")}i.d(e,"a",(function(){return n}))},c428:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[n("div",{staticClass:"loading_box"},[n("img",{attrs:{src:i("12ae"),alt:""}})])])}],r={data:function(){return{}}},s=r,o=(i("5969"),i("2877")),u=Object(o["a"])(s,n,a,!1,null,"1715c974",null);e["a"]=u.exports},fb6c:function(t,e,i){}}]);
//# sourceMappingURL=chunk-9d95067a.5f2b1e65.js.map